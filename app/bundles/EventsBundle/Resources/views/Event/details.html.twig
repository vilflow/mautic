{% extends '@MauticCore/Default/content.html.twig' %}

{% block mauticContent %}event{% endblock %}
{% block headerTitle %} {{ event.getName() }} {% endblock %}

{% block actions %}
    {{ include('@MauticCore/Helper/page_actions.html.twig', {
        item: event,
        templateButtons: {
            edit: is_granted('events:events:edit'),
            delete: is_granted('events:events:delete')
        },
        routeBase: 'event'
    }) }}
{% endblock %}

{% block content %}
    <div class="box-layout">
        <div class="col-md-12 height-auto">
            <table class="table table-hover">
                <tr>
                    <td>{% trans %}mautic.core.id{% endtrans %}</td>
                    <td>{{ event.getId() }}</td>
                </tr>
                <tr>
                    <td>{% trans %}mautic.core.name{% endtrans %}</td>
                    <td>{{ event.getName() }}</td>
                </tr>
            </table>
            <div id="event-contacts"
                 data-event-id="{{ event.getId() }}"
                 data-contacts-url="{{ path('mautic_event_contacts', {'objectId': event.getId()}) }}"
                 data-search-url="{{ path('mautic_event_contacts_search', {'objectId': event.getId()}) }}"
                 data-attach-url="{{ path('mautic_event_contacts_attach', {'objectId': event.getId()}) }}"
                 data-detach-url-template="{{ path('mautic_event_contacts_detach', {'objectId': event.getId(), 'contactId': 'CONTACT_ID'}) }}"
                 data-remove-label="{{ 'events.contact.remove'|trans }}"
                 data-search-placeholder="{{ 'events.contact.search_placeholder'|trans }}">
                <h3>{% trans %}events.contact.panel{% endtrans %}</h3>
                <div class="form-group">
                    <select id="contact-search" class="form-control" multiple aria-label="{% trans %}events.contact.search_placeholder{% endtrans %}"></select>
                    <button id="attach-contacts" class="btn btn-primary mt-2" disabled>{% trans %}events.contact.attach{% endtrans %}</button>
                </div>
                <div id="attached-contacts" class="mt-4">
                    <h4>{% trans %}events.contact.attached{% endtrans %}</h4>
                    <ul id="attached-contact-list" class="list-group"></ul>
                    <div id="attached-empty" class="text-muted">{% trans %}events.contact.none{% endtrans %}</div>
                </div>
            </div>
        </div>
        <input name="entityId" id="entityId" type="hidden" value="{{ event.getId()|escape }}" />
    </div>

    {{ includeScript('plugins/MauticEventsBundle/Assets/js/events.js') }}
{% endblock %}
